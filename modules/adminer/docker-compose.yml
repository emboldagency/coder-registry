services:
  adminer:
    image: adminer:latest
    container_name: adminer-compose-test
    ports:
      - "8080:8080"
    environment:
      ADMINER_DEFAULT_SERVER: mysql
      ADMINER_DEFAULT_USERNAME: embold
      ADMINER_DEFAULT_PASSWORD: embold
      ADMINER_DEFAULT_DB: embold
      ADMINER_DEFAULT_DRIVER: mysql
      ADMINER_DESIGN: pappu687
      # ADMINER_PLUGINS: "db-structure dump-markdown json-preview login-form-auto readable-dates sql-claude sql-wizard theme-switcher"
    entrypoint: ["/bin/sh", "/entrypoint-adminer.sh"]
    volumes:
      - ./entrypoint-adminer.sh:/entrypoint-adminer.sh:ro
      - ./adminer-auto-login.php:/plugins-src/auto-login.php:ro
    restart: unless-stopped
  db:
    image: postgres:15
    container_name: adminer-postgres-test
    environment:
      POSTGRES_USER: embold
      POSTGRES_PASSWORD: embold
      POSTGRES_DB: embold
    ports:
      - "5432:5432"
    volumes:
      - postgres-data:/var/lib/postgresql/data
    restart: unless-stopped
  
volumes:
  postgres-data:
    driver: local
  
